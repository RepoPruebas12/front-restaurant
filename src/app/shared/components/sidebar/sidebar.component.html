<aside [class.w-64]="!isCollapsed" [class.w-20]="isCollapsed"
       class="bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white min-h-screen flex flex-col transition-all duration-300 shadow-2xl">

  <!-- Header con logo -->
  <div class="p-4 flex items-center justify-between border-b border-gray-700/50">
    <div class="flex items-center space-x-3">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-lg">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7m-12.7-.7 6.4-6.3M19 5l-7 7"></path>
        </svg>
      </div>
      <h1 *ngIf="!isCollapsed" class="text-2xl font-bold bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent">
        Restobar
      </h1>
    </div>
    <button (click)="toggleSidebar()" class="text-gray-400 hover:text-white transition-colors">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="isCollapsed ? 'M9 5l7 7-7 7' : 'M15 19l-7-7 7-7'"></path>
      </svg>
    </button>
  </div>

  <!-- Menu Items -->
  <nav class="flex-1 p-3 space-y-1 overflow-y-auto">
    <a *ngFor="let item of menuItems"
       [routerLink]="item.route"
       routerLinkActive="bg-gradient-to-r from-orange-500 to-orange-600 shadow-lg"
       [routerLinkActiveOptions]="{exact: false}"
       class="flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-gray-700/50 transition-all duration-200 group relative overflow-hidden"
       [class.justify-center]="isCollapsed">

      <!-- Hover effect -->
      <div class="absolute inset-0 bg-gradient-to-r from-orange-500/0 to-orange-600/0 group-hover:from-orange-500/10 group-hover:to-orange-600/10 transition-all duration-300"></div>

      <!-- Icon -->
      <svg class="w-5 h-5 flex-shrink-0 relative z-10 group-hover:scale-110 transition-transform"
           fill="none"
           stroke="currentColor"
           stroke-width="2"
           stroke-linecap="round"
           stroke-linejoin="round"
           viewBox="0 0 24 24">
        <path [attr.d]="item.icon"></path>
      </svg>

      <!-- Label -->
      <span *ngIf="!isCollapsed" class="font-medium relative z-10 group-hover:translate-x-1 transition-transform">
        {{ item.label }}
      </span>

      <!-- Active indicator -->
      <div *ngIf="isCollapsed"
           routerLinkActive="opacity-100"
           class="absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-orange-500 rounded-r-full opacity-0 transition-opacity">
      </div>
    </a>
  </nav>

  <!-- User Info -->
  <div class="p-3 border-t border-gray-700/50 bg-gray-800/30">
    <div class="flex items-center space-x-3 mb-3 px-3 py-2 rounded-xl hover:bg-gray-700/30 transition-all cursor-pointer"
         [class.justify-center]="isCollapsed">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center flex-shrink-0 shadow-lg ring-2 ring-orange-500/20">
        <span class="text-white font-bold text-lg">{{ currentUser?.nombre?.charAt(0) || 'U' }}</span>
      </div>
      <div *ngIf="!isCollapsed" class="flex-1 min-w-0">
        <p class="text-sm font-semibold truncate text-white">{{ currentUser?.nombre }}</p>
        <p class="text-xs text-gray-400 capitalize flex items-center space-x-1">
          <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
          </svg>
          <span>{{ currentUser?.rol }}</span>
        </p>
      </div>
    </div>

    <button (click)="logout()"
            class="w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 rounded-xl transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 group"
            [class.px-3]="isCollapsed">
      <svg class="w-5 h-5 group-hover:rotate-12 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
      </svg>
      <span *ngIf="!isCollapsed" class="font-semibold">Cerrar sesi√≥n</span>
    </button>
  </div>
</aside>
